package com.cb;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.nio.IntBuffer;

import org.lwjgl.BufferUtils;
import org.lwjgl.opengl.Display;
import org.lwjgl.opengl.GL11;
import org.newdawn.slick.opengl.Texture;
import org.newdawn.slick.opengl.TextureLoader;
import org.newdawn.slick.util.ResourceLoader;

public class TextureManager {
	Game game;
	Texture texture;
	
	int id;
	
	public TextureManager(Game g){
		game= g;
		try {
			texture = TextureLoader.getTexture("PNG", ResourceLoader.getResourceAsStream("/githubstuff/Orca/gameworkspace/Orca/assets/testImage.png"));
		} catch (IOException e) {
			// TODO Auto-generated catch block
			System.err.println("err: IOException");
			//e.printStackTrace();
		}
		
		/*
		try {
			texture = TextureLoader.getTexture("PNG", new FileInputStream(new File("/githubstuff/Orca/gameworkspace/Orca/assets/testImage.png")));
		} catch (FileNotFoundException e) {
			System.err.println("err: File wasn't found");
			Display.destroy();
			System.exit(1);
//			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			System.err.println("err: IOException");
			Display.destroy();
			System.exit(1);
			//e.printStackTrace();
		}
		*/
		id= 0;
		if(texture!=null){
			id=texture.getTextureID(); 
			//int texID = GL11.glGenTextures();
			IntBuffer tmp=BufferUtils.createIntBuffer(1);
			System.out.println("TextureID: "+id);
			GL11.glGenTextures(tmp);
			tmp.rewind();
			GL11.glBindTexture(GL11.GL_TEXTURE_2D,id );
		 
		}
	}
	
	
	public void Draw(){
		
		texture.bind();	
		GL11.glBegin(GL11.GL_QUADS);

	
		GL11.glTexCoord2f(0,0);
		GL11.glVertex2i(100, 100);
		GL11.glTexCoord2f(1,0);
		GL11.glVertex2i(100, 200);
		GL11.glTexCoord2f(0,1);
		GL11.glVertex2i(200, 100);

		GL11.glTexCoord2f(1,1);
		GL11.glVertex2i(200, 200);
		
		GL11.glEnd();
	}
	
}
